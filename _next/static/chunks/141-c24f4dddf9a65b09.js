"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{285:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>n});var r=a(5155),i=a(2115),s=a(4253),o=a(2085),l=a(9434);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:a,variant:i,size:o,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(n({variant:i,size:o,className:a})),ref:t,...c})});d.displayName="Button"},1950:(e,t,a)=>{a.d(t,{Ct:()=>o,GV:()=>r,Hk:()=>s,NU:()=>l,R6:()=>d,ai:()=>i,u_:()=>n});let r=new Date("2026-01-12T00:00:00Z"),i=10,s=60,o=5e3,l=45,n={RUN_RUCK_WALK:{label:"Run/Ruck/Walk",unit:"miles",goal:12},ELLIPTICAL_ROW:{label:"Elliptical/Row",unit:"miles",goal:15},SWIM:{label:"Swim",unit:"meters",goal:3200},CYCLE:{label:"Cycle",unit:"miles",goal:40}},d={tmar:{id:"tmar",name:"TMAR-M"},strength:{id:"strength",name:"Strength & Resistance"},cardio:{id:"cardio",name:"Cardio"},hiit:{id:"hiit",name:"HIIT"}}},2360:(e,t,a)=>{a.d(t,{H:()=>m,WorkoutProvider:()=>u});var r=a(5155),i=a(2115),s=a(1966),o=a(5317),l=a(1950),n=a(4202);let d={tmarAchieved:!1,strengthAchieved:!1,cardioAchieved:!1,hiitAchieved:!1,allWeeklyAchieved:!1},c=(0,i.createContext)(void 0),u=e=>{let{children:t}=e,{user:a}=(0,s.useUser)(),u=null;try{u=(0,s.useFirestore)()}catch(e){console.log("Firestore not available - running in demo mode")}let m=(0,s.useMemoFirebase)(()=>a&&u?(0,o.H9)(u,"users",a.uid):null,[a,u]),{data:f}=u?(0,s.useDoc)(m):{data:null},p=(0,s.useMemoFirebase)(()=>a&&u?(0,o.P)((0,o.rJ)(u,"workoutLogs"),(0,o._M)("userProfileId","==",a.uid)):null,[a,u]),{data:g}=u?(0,s.useCollection)(p):{data:(0,n.HP)()?n.rq:null},[h,v]=(0,i.useState)({}),[w,y]=(0,i.useState)(!1),[b,x]=(0,i.useState)("tmar"),[k,N]=(0,i.useState)(1),[R,M]=(0,i.useState)(1),[A,S]=(0,i.useState)(null),[C,j]=(0,i.useState)({}),[T,_]=(0,i.useState)(null),[P,E]=(0,i.useState)(!1),[I,L]=(0,i.useState)({showAchievementPopups:!0,showWeeklyCompletionPopups:!0}),[W,O]=(0,i.useState)(Object.keys(l.u_));(0,i.useEffect)(()=>{let e=Math.floor((new Date().getTime()-l.GV.getTime())/6048e5)+1,t=1;e>0&&e<=l.ai?t=e:e>l.ai&&(t=l.ai),N(t),M(t)},[]),(0,i.useEffect)(()=>{if(g){let e={};g.forEach(t=>{e[t.week]||(e[t.week]={tmar:0,strength:0,hiit:0,cardio:{runRuckWalk:0,ellipticalRow:0,swim:0,cycle:0}}),e[t.week].tmar+=t.tmarMMinutes,e[t.week].strength+=t.resistanceLbs,e[t.week].hiit+=t.hiitMinutes,e[t.week].cardio.runRuckWalk+=t.cardioMilesRunning+t.cardioMilesRucking+t.cardioMilesWalking,e[t.week].cardio.ellipticalRow+=t.cardioMilesElliptical+t.cardioMilesRowing,e[t.week].cardio.swim+=t.cardioMetersSwimming,e[t.week].cardio.cycle+=t.cardioMilesCycling}),v(e)}},[g]),(0,i.useEffect)(()=>{(null==f?void 0:f.availableCardio)&&O(f.availableCardio),(null==f?void 0:f.selectedMission)&&S(f.selectedMission)},[f]);let D=(0,i.useCallback)(async e=>{var t,r,i,s;if(!a)return;if((0,n.HP)()||!u)return void(0,n.Z0)("Adding workout to demo data (not persisted)");let l={userProfileId:a.uid,week:R,workoutDate:new Date().toISOString(),tmarMMinutes:e.tmar||0,resistanceLbs:e.strength||0,hiitMinutes:e.hiit||0,cardioMilesRunning:(null==(t=e.cardio)?void 0:t.runRuckWalk)||0,cardioMilesRucking:0,cardioMilesWalking:0,cardioMilesElliptical:(null==(r=e.cardio)?void 0:r.ellipticalRow)||0,cardioMilesRowing:0,cardioMetersSwimming:(null==(i=e.cardio)?void 0:i.swim)||0,cardioMilesCycling:(null==(s=e.cardio)?void 0:s.cycle)||0};await (0,o.gS)((0,o.rJ)(u,"workoutLogs"),l)},[a,u,R]),H=(0,i.useCallback)(async e=>{if(!a)return;if((0,n.HP)()||!u){(0,n.Z0)("Resetting week data in demo mode (not persisted)"),j(t=>({...t,[e]:{...d}}));return}let t=(0,o.P)((0,o.rJ)(u,"workoutLogs"),(0,o._M)("userProfileId","==",a.uid),(0,o._M)("week","==",e)),r=await (0,o.GG)(t),i=(0,o.wP)(u);r.forEach(e=>{i.delete(e.ref)}),await i.commit(),j(t=>({...t,[e]:{...d}}))},[a,u]),U=(0,i.useCallback)(async()=>{if(!a)return;if((0,n.HP)()||!u){(0,n.Z0)("Resetting all data in demo mode (not persisted)"),S(null),j({});return}let e=(0,o.P)((0,o.rJ)(u,"workoutLogs"),(0,o._M)("userProfileId","==",a.uid)),t=await (0,o.GG)(e),r=(0,o.wP)(u);t.forEach(e=>{r.delete(e.ref)}),await r.commit(),S(null),m&&await (0,o.BN)(m,{selectedMission:null},{merge:!0}),j({})},[a,u,m]),F=(0,i.useCallback)(async e=>{if(S(e),(0,n.HP)()||!u)return void(0,n.Z0)("Setting selected mission in demo mode (not persisted)");m&&await (0,o.BN)(m,{selectedMission:e},{merge:!0})},[m,u]),Z=(0,i.useCallback)(async e=>{let t="function"==typeof e?e(W):e;if(O(t),(0,n.HP)()||!u)return void(0,n.Z0)("Setting available cardio in demo mode (not persisted)");m&&await (0,o.BN)(m,{availableCardio:t},{merge:!0})},[m,W,u]),J=(0,i.useMemo)(()=>{var e;return null!=(e=h[R])?e:{tmar:0,strength:0,hiit:0,cardio:{runRuckWalk:0,ellipticalRow:0,swim:0,cycle:0}}},[h,R]),G=(0,i.useMemo)(()=>{let e=J.tmar/l.Hk*100,t=J.strength/l.Ct*100,a=J.hiit/l.NU*100;return{tmar:e,strength:t,cardio:(J.cardio.runRuckWalk/l.u_.RUN_RUCK_WALK.goal+J.cardio.ellipticalRow/l.u_.ELLIPTICAL_ROW.goal+J.cardio.swim/l.u_.SWIM.goal+J.cardio.cycle/l.u_.CYCLE.goal)*100,hiit:a}},[J]);return(0,i.useEffect)(()=>{I.showAchievementPopups&&(()=>{var e;if(T||P)return;let t=null!=(e=C[R])?e:d,a=[{name:"TMAR-M",progress:G.tmar,key:"tmarAchieved",achieved:t.tmarAchieved},{name:"Strength & Resistance",progress:G.strength,key:"strengthAchieved",achieved:t.strengthAchieved},{name:"Cardio",progress:G.cardio,key:"cardioAchieved",achieved:t.cardioAchieved},{name:"HIIT",progress:G.hiit,key:"hiitAchieved",achieved:t.hiitAchieved}],r=!1,i={...t};for(let e of a)if(e.progress>=100&&!e.achieved){_({categoryName:e.name}),i[e.key]=!0,r=!0;break}if(r)return j(e=>({...e,[R]:i}));a.every(e=>e.progress>=100)&&!t.allWeeklyAchieved&&(E(!0),i.allWeeklyAchieved=!0,j(e=>({...e,[R]:i})))})()},[G,C,R,T,P,I.showAchievementPopups]),(0,r.jsx)(c.Provider,{value:{weeklyWorkouts:h,addWorkout:D,isDialogOpen:w,setIsDialogOpen:y,dialogInitialTab:b,setDialogInitialTab:x,currentWeek:k,displayedWeek:R,setDisplayedWeek:M,selectedMission:A,setSelectedMission:F,achievementToShow:T,setAchievementToShow:_,showWeeklyCompletion:P,setShowWeeklyCompletion:E,notificationSettings:I,setNotificationSettings:L,resetWeekData:H,resetAllData:U,availableCardio:W,setAvailableCardio:Z,workoutLogs:g,userProfile:f},children:t})},m=()=>{let e=(0,i.useContext)(c);if(void 0===e)throw Error("useWorkoutLog must be used within a WorkoutProvider");return e}},5057:(e,t,a)=>{a.d(t,{J:()=>d});var r=a(5155),i=a(2115),s=a(968),o=a(2085),l=a(9434);let n=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.b,{ref:t,className:(0,l.cn)(n(),a),...i})});d.displayName=s.b.displayName},6695:(e,t,a)=>{a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>o,aR:()=>l,wL:()=>u});var r=a(5155),i=a(2115),s=a(9434);let o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});o.displayName="Card";let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",a),...i})});l.displayName="CardHeader";let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});n.displayName="CardTitle";let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",a),...i})});d.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",a),...i})});c.displayName="CardContent";let u=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",a),...i})});u.displayName="CardFooter"},7262:(e,t,a)=>{a.d(t,{S:()=>n});var r=a(5155),i=a(2115),s=a(6981),o=a(518),l=a(9434);let n=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.bL,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...i,children:(0,r.jsx)(s.C1,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})})});n.displayName=s.bL.displayName},7481:(e,t,a)=>{a.d(t,{dj:()=>m});var r=a(2115);let i=0,s=new Map,o=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},n=[],d={toasts:[]};function c(e){d=l(d,e),n.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(d);return r.useEffect(()=>(n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9409:(e,t,a)=>{a.d(t,{bq:()=>m,eb:()=>h,gC:()=>g,l6:()=>c,yv:()=>u});var r=a(5155),i=a(2115),s=a(3433),o=a(9556),l=a(7381),n=a(518),d=a(9434);let c=s.bL;s.YJ;let u=s.WT,m=i.forwardRef((e,t)=>{let{className:a,children:i,...l}=e;return(0,r.jsxs)(s.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[i,(0,r.jsx)(s.In,{asChild:!0,children:(0,r.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.l9.displayName;let f=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=s.PP.displayName;let p=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})});p.displayName=s.wn.displayName;let g=i.forwardRef((e,t)=>{let{className:a,children:i,position:o="popper",...l}=e;return(0,r.jsx)(s.ZL,{children:(0,r.jsxs)(s.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...l,children:[(0,r.jsx)(f,{}),(0,r.jsx)(s.LM,{className:(0,d.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,r.jsx)(p,{})]})})});g.displayName=s.UC.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...i})}).displayName=s.JU.displayName;let h=i.forwardRef((e,t)=>{let{className:a,children:i,...o}=e;return(0,r.jsxs)(s.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(s.p4,{children:i})]})});h.displayName=s.q7.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,r.jsx)(s.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...i})}).displayName=s.wv.displayName}}]);