(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2523:(e,a,i)=>{"use strict";i.d(a,{p:()=>l});var r=i(5155),t=i(2115),s=i(9434);let l=t.forwardRef((e,a)=>{let{className:i,type:t,...l}=e;return(0,r.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:a,...l})});l.displayName="Input"},7759:(e,a,i)=>{"use strict";i.d(a,{C5:()=>b,MJ:()=>g,Rr:()=>h,eI:()=>p,lR:()=>f,lV:()=>d,zB:()=>m});var r=i(5155),t=i(2115),s=i(4253),l=i(2177),n=i(9434),o=i(5057);let d=l.Op,c=t.createContext({}),m=e=>{let{...a}=e;return(0,r.jsx)(c.Provider,{value:{name:a.name},children:(0,r.jsx)(l.xI,{...a})})},u=()=>{let e=t.useContext(c),a=t.useContext(x),{getFieldState:i,formState:r}=(0,l.xW)(),s=i(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=a;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...s}},x=t.createContext({}),p=t.forwardRef((e,a)=>{let{className:i,...s}=e,l=t.useId();return(0,r.jsx)(x.Provider,{value:{id:l},children:(0,r.jsx)("div",{ref:a,className:(0,n.cn)("space-y-2",i),...s})})});p.displayName="FormItem";let f=t.forwardRef((e,a)=>{let{className:i,...t}=e,{error:s,formItemId:l}=u();return(0,r.jsx)(o.J,{ref:a,className:(0,n.cn)(s&&"text-destructive",i),htmlFor:l,...t})});f.displayName="FormLabel";let g=t.forwardRef((e,a)=>{let{...i}=e,{error:t,formItemId:l,formDescriptionId:n,formMessageId:o}=u();return(0,r.jsx)(s.DX,{ref:a,id:l,"aria-describedby":t?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!t,...i})});g.displayName="FormControl";let h=t.forwardRef((e,a)=>{let{className:i,...t}=e,{formDescriptionId:s}=u();return(0,r.jsx)("p",{ref:a,id:s,className:(0,n.cn)("text-sm text-muted-foreground",i),...t})});h.displayName="FormDescription";let b=t.forwardRef((e,a)=>{var i;let{className:t,children:s,...l}=e,{error:o,formMessageId:d}=u(),c=o?String(null!=(i=null==o?void 0:o.message)?i:""):s;return c?(0,r.jsx)("p",{ref:a,id:d,className:(0,n.cn)("text-sm font-medium text-destructive",t),...l,children:c}):null});b.displayName="FormMessage"},8817:(e,a,i)=>{"use strict";i.d(a,{o:()=>r});let r=JSON.parse('{"o":[{"id":"hero","description":"Soldiers working out with kettlebells outdoors.","imageUrl":"https://images.unsplash.com/photo-1517836357463-d25dfeac3438?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxtaWxpdGFyeSUyMGZpdG5lc3N8ZW58MHx8fHwxNzY0NzkzNTI0fDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"military fitness"},{"id":"logo1","description":"DEFIT Challenge Logo","imageUrl":"/fonts/Images/defit logo 1.png","imageHint":"fitness logo"},{"id":"logo2","description":"DEFIT Challenge Compact Logo","imageUrl":"/fonts/Images/defit logo 2.jpg","imageHint":"fitness logo"},{"id":"leaderboard","description":"A military award ceremony.","imageUrl":"https://images.unsplash.com/photo-1613826488249-b67eba609bed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw2fHxtaWxpdGFyeSUyMGF3YXJkfGVufDB8fHx8MTc2NDc5MzUyM3ww&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"military award"},{"id":"resources","description":"A collection of books and documents on a shelf.","imageUrl":"https://images.unsplash.com/photo-1696952384865-82dba88ac831?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw1fHxkb2N1bWVudCUyMGJvb2t8ZW58MHx8fHwxNzY0NzkzNTI0fDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"document book"},{"id":"rules","description":"A person reading a rule book.","imageUrl":"https://images.unsplash.com/photo-1680587513906-d04091ab3c52?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxMHx8cmVhZGluZyUyMGJvb2t8ZW58MHx8fHwxNzY0Njc0MzM1fDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"reading book"},{"id":"learn-more","description":"A person looking at an informational display.","imageUrl":"https://images.unsplash.com/photo-1604909625077-3c746bc1319c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw2fHxpbmZvcm1hdGlvbiUyMGRpc3BsYXl8ZW58MHx8fHwxNzY0NzkzNTI0fDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"information display"},{"id":"avatar-soldier","description":"A silhouette of a soldier.","imageUrl":"https://images.unsplash.com/photo-1676490601773-52ce9a77d6a7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw2fHxzb2xkaWVyJTIwc2lsaG91ZXR0ZXxlbnwwfHx8fDE3NjUxMjg3MjN8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"soldier silhouette"},{"id":"avatar-kettlebell","description":"A kettlebell icon.","imageUrl":"https://images.unsplash.com/photo-1567175693298-ab0c4166ad6d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwyfHxrZXR0bGViZWxsJTIwaWNvbnxlbnwwfHx8fDE3NjUxMjg0Mzl8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"kettlebell icon"},{"id":"avatar-barbell","description":"A barbell.","imageUrl":"https://images.unsplash.com/photo-1689514226730-c0fbca1345c9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxiYXJiZWxsJTIwd2VpZ2h0c3xlbnwwfHx8fDE3NjUwMzc1NDh8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"barbell weights"},{"id":"avatar-shoe","description":"A running shoe.","imageUrl":"https://images.unsplash.com/photo-1582588678413-dbf45f4823e9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxMHx8cnVubmluZyUyMHNob2V8ZW58MHx8fHwxNzY1MDg4MDI0fDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"running shoe"},{"id":"avatar-tank","description":"An army tank.","imageUrl":"https://images.unsplash.com/photo-1631570323109-745d1f7d2b74?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwxfHxhcm15JTIwdGFua3xlbnwwfHx8fDE3NjUxMjg3MjN8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"army tank"},{"id":"avatar-bullet","description":"A rifle bullet.","imageUrl":"https://images.unsplash.com/photo-1742349533642-f154b28134ee?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwzfHxidWxsZXQlMjBjYXNpbmd8ZW58MHx8fHwxNzY1MTI4NzIzfDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"bullet casing"},{"id":"avatar-weights","description":"A stack of weight plates.","imageUrl":"https://images.unsplash.com/photo-1711234247732-d9b008a3b072?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwzfHx3ZWlnaHQlMjBwbGF0ZXN8ZW58MHx8fHwxNzY1MTI4NzIyfDA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"weight plates"},{"id":"avatar-eagle","description":"An eagle emblem.","imageUrl":"https://images.unsplash.com/photo-1689978858829-dba0699e95f4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw5fHxlYWdsZSUyMGVtYmxlbXxlbnwwfHx8fDE3NjUxMjg3MjJ8MA&ixlib=rb-4.1.0&q=80&w=1080","imageHint":"eagle emblem"}]}').o},9608:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>U});var r=i(5155),t=i(2177),s=i(221),l=i(5594),n=i(285),o=i(7759),d=i(2523),c=i(7262),m=i(6695),u=i(9409),x=i(2115),p=i(4059),f=i(154),g=i(9434);let h=x.forwardRef((e,a)=>{let{className:i,...t}=e;return(0,r.jsx)(p.bL,{className:(0,g.cn)("grid gap-2",i),...t,ref:a})});h.displayName=p.bL.displayName;let b=x.forwardRef((e,a)=>{let{className:i,...t}=e;return(0,r.jsx)(p.q7,{ref:a,className:(0,g.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),...t,children:(0,r.jsx)(p.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});b.displayName=p.q7.displayName;var j=i(6874),N=i.n(j),w=i(5695),y=i(6766),v=i(8817),H=i(2360),M=i(1950),D=i(1966),C=i(3004),J=i(5317),I=i(7481),k=i(4202);let R=Object.keys(M.u_).map(e=>({id:e,label:M.u_[e].label})),A=[{value:"soldier",label:"Soldier",description:"U.S. Army Reserve Soldier eligible for official awards"},{value:"civilian",label:"Civilian",description:"DoD civilian or contractor"},{value:"family",label:"Family Member",description:"Military family member participating for fitness"}],Y=[{value:"TPU",label:"TPU",description:"Troop Program Unit (Traditional Drilling Reservist)"},{value:"IMA",label:"IMA",description:"Individual Mobilization Augmentee"},{value:"AGR",label:"AGR",description:"Active Guard Reserve"},{value:"T10",label:"T10",description:"Title 10 (Federal Active Duty)"}],z=l.Ik({participantCategory:l.k5(["soldier","civilian","family"],{required_error:"Please select a participant category"}),dutyStatus:l.k5(["IMA","TPU","AGR","T10"]).optional(),name:l.Yj().min(1,"Name is required"),email:l.Yj().email("Invalid email address"),password:l.Yj().min(8,"Password must be at least 8 characters"),phoneNumber:l.Yj().min(10,"Phone number must be at least 10 digits"),rank:l.Yj().optional(),unit:l.Yj().optional(),teamName:l.Yj().optional(),availableCardio:l.YO(l.Yj()).refine(e=>e.some(e=>e),{message:"You have to select at least one item."})}).superRefine((e,a)=>{"soldier"===e.participantCategory&&(e.dutyStatus||a.addIssue({code:l.eq.custom,message:"Duty status is required for Soldiers",path:["dutyStatus"]}),(!e.rank||e.rank.length<1)&&a.addIssue({code:l.eq.custom,message:"Rank is required for Soldiers",path:["rank"]}),(!e.unit||e.unit.length<1)&&a.addIssue({code:l.eq.custom,message:"Unit is required for Soldiers",path:["unit"]}))});function U(){let e=(0,w.useRouter)(),a=v.o.find(e=>"hero"===e.id),{setAvailableCardio:i}=(0,H.H)(),l=null,x=null;try{l=(0,D.useAuth)(),x=(0,D.useFirestore)()}catch(e){console.log("Firebase services not available - running in demo mode")}let{toast:p}=(0,I.dj)(),f=(0,t.mN)({resolver:(0,s.u)(z),defaultValues:{participantCategory:void 0,dutyStatus:void 0,name:"",email:"",password:"",phoneNumber:"",rank:"",unit:"",teamName:"",availableCardio:R.map(e=>e.id)}}),g="soldier"===f.watch("participantCategory");async function j(a){try{if((0,k.HP)()||!l||!x){(0,k.Z0)("Demo registration - redirecting to dashboard"),i(a.availableCardio),p({title:"Demo Registration Successful",description:"Welcome to the DEFIT demo!"}),e.push("/dashboard");return}let r=(await (0,C.eJ)(l,a.email,a.password)).user;if(r){let t={id:r.uid,displayName:a.name,email:a.email,registrationDate:new Date().toISOString(),participantCategory:a.participantCategory,dutyStatus:"soldier"===a.participantCategory?a.dutyStatus:null,isSoldier:"soldier"===a.participantCategory,rank:a.rank,unit:a.unit,teamName:a.teamName,phoneNumber:a.phoneNumber,availableCardio:a.availableCardio},s=(0,J.H9)(x,"users",r.uid);(0,D.setDocumentNonBlocking)(s,t,{merge:!0}),i(a.availableCardio),p({title:"Registration Successful",description:"Your account has been created. Please log in."}),e.push("/login")}}catch(e){console.error("Registration Error:",e),p({variant:"destructive",title:"Registration Failed",description:e.message||"An unexpected error occurred. Please try again."})}}return(0,r.jsxs)("div",{className:"relative min-h-screen flex flex-col items-center justify-center bg-background p-4 py-8",children:[a&&(0,r.jsx)(y.default,{src:a.imageUrl,alt:a.description,"data-ai-hint":a.imageHint,fill:!0,className:"object-cover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),(0,r.jsxs)("div",{className:"z-10 flex flex-col items-center w-full max-w-2xl",children:[(0,r.jsx)(N(),{href:"/",children:(0,r.jsx)(y.default,{src:"/fonts/Images/defit logo 1.png",alt:"DEFIT Challenge Logo",width:300,height:150,className:"mb-6 w-auto h-auto"})}),(0,r.jsxs)(m.Zp,{className:"w-full",children:[(0,r.jsxs)(m.aR,{className:"text-center",children:[(0,r.jsx)(m.ZB,{children:"Create Your DEFIT Account"}),(0,r.jsx)(m.BT,{children:"Join the challenge and start tracking your progress."})]}),(0,r.jsxs)(m.Wu,{children:[(0,r.jsx)(o.lV,{...f,children:(0,r.jsxs)("form",{onSubmit:f.handleSubmit(j),className:"space-y-4",children:[(0,r.jsx)(o.zB,{control:f.control,name:"participantCategory",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{className:"rounded-md border p-4",children:[(0,r.jsx)(o.lR,{className:"text-base",children:"Participant Category"}),(0,r.jsx)(o.Rr,{children:"Select your category. Soldiers are eligible for official awards."}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(h,{onValueChange:a.onChange,defaultValue:a.value,className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:A.map(e=>(0,r.jsx)(o.eI,{children:(0,r.jsx)(o.MJ,{children:(0,r.jsxs)("div",{className:"flex items-start space-x-3 space-y-0",children:[(0,r.jsx)(b,{value:e.value,id:e.value}),(0,r.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,r.jsx)(o.lR,{htmlFor:e.value,className:"font-medium cursor-pointer",children:e.label}),(0,r.jsx)(o.Rr,{className:"text-xs",children:e.description})]})]})})},e.value))})}),(0,r.jsx)(o.C5,{})]})}}),g&&(0,r.jsx)(o.zB,{control:f.control,name:"dutyStatus",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{className:"rounded-md border p-4",children:[(0,r.jsx)(o.lR,{className:"text-base",children:"Duty Status"}),(0,r.jsx)(o.Rr,{children:"Select your Army Reserve duty status."}),(0,r.jsxs)(u.l6,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,r.jsx)(o.MJ,{children:(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"Select duty status"})})}),(0,r.jsx)(u.gC,{children:Y.map(e=>(0,r.jsxs)(u.eb,{value:e.value,children:[(0,r.jsx)("span",{className:"font-medium",children:e.label}),(0,r.jsxs)("span",{className:"text-muted-foreground ml-2",children:["— ",e.description]})]},e.value))})]}),(0,r.jsx)(o.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(o.zB,{control:f.control,name:"name",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{children:[(0,r.jsx)(o.lR,{children:"Full Name"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{placeholder:"e.g., Jane Doe",...a})}),(0,r.jsx)(o.C5,{})]})}}),(0,r.jsx)(o.zB,{control:f.control,name:"email",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{children:[(0,r.jsx)(o.lR,{children:"Email Address"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{placeholder:"e.g., jane.doe@example.com",...a})}),(0,r.jsx)(o.C5,{})]})}}),(0,r.jsx)(o.zB,{control:f.control,name:"password",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{children:[(0,r.jsx)(o.lR,{children:"Password"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{type:"password",placeholder:"••••••••",...a})}),(0,r.jsx)(o.C5,{})]})}}),(0,r.jsx)(o.zB,{control:f.control,name:"phoneNumber",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{children:[(0,r.jsx)(o.lR,{children:"Phone Number"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{type:"tel",placeholder:"e.g., (555) 555-5555",...a})}),(0,r.jsx)(o.C5,{})]})}}),(0,r.jsx)(o.zB,{control:f.control,name:"teamName",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{className:g?"":"md:col-span-2",children:[(0,r.jsx)(o.lR,{children:"Team Name (Optional)"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{placeholder:"e.g., The High-Speed Eagles",...a})}),(0,r.jsx)(o.C5,{})]})}}),g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.zB,{control:f.control,name:"rank",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{children:[(0,r.jsx)(o.lR,{children:"Rank"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{placeholder:"e.g., SGT",...a})}),(0,r.jsx)(o.C5,{})]})}}),(0,r.jsx)(o.zB,{control:f.control,name:"unit",render:e=>{let{field:a}=e;return(0,r.jsxs)(o.eI,{children:[(0,r.jsx)(o.lR,{children:"Unit"}),(0,r.jsx)(o.MJ,{children:(0,r.jsx)(d.p,{placeholder:"e.g., 351st CACOM",...a})}),(0,r.jsx)(o.C5,{})]})}})]})]}),(0,r.jsx)(o.zB,{control:f.control,name:"availableCardio",render:()=>(0,r.jsxs)(o.eI,{className:"rounded-md border p-4",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)(o.lR,{className:"text-base",children:"Available Cardio Equipment"}),(0,r.jsx)(o.Rr,{children:"Select all the cardio options you have access to. This will help tailor your workout plan."})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:R.map(e=>(0,r.jsx)(o.zB,{control:f.control,name:"availableCardio",render:a=>{var i;let{field:t}=a;return(0,r.jsxs)(o.eI,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,r.jsx)(o.MJ,{children:(0,r.jsx)(c.S,{checked:null==(i=t.value)?void 0:i.includes(e.id),onCheckedChange:a=>{var i;return a?t.onChange([...t.value||[],e.id]):t.onChange(null==(i=t.value)?void 0:i.filter(a=>a!==e.id))}})}),(0,r.jsx)(o.lR,{className:"font-normal",children:e.label})]},e.id)}},e.id))}),(0,r.jsx)(o.C5,{})]})}),(0,r.jsx)(n.$,{type:"submit",className:"w-full font-bold",children:"Create Account"})]})}),(0,r.jsxs)("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,r.jsx)(N(),{href:"/login",className:"font-semibold text-primary hover:underline",children:"Login"})]})]})]})]})]})}},9707:(e,a,i)=>{Promise.resolve().then(i.bind(i,9608))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,644,277,698,970,874,196,239,63,521,326,158,259,749,141,441,684,358],()=>a(9707)),_N_E=e.O()}]);