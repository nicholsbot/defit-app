(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{157:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var i=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,i.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,i.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:o?24*Number(s)/Number(a):s,className:n("lucide",d),...m},[...u.map(e=>{let[t,r]=e;return(0,i.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,i.forwardRef)((r,l)=>{let{className:o,...d}=r;return(0,i.createElement)(s,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),o),...d})});return r.displayName="".concat(e),r}},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var i=r(5155),a=r(2115),n=r(4253),l=r(2085),s=r(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,i.jsx)(u,{className:(0,s.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},462:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(157).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},1467:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(157).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},1950:(e,t,r)=>{"use strict";r.d(t,{Ct:()=>l,GV:()=>i,Hk:()=>n,NU:()=>s,R6:()=>d,ai:()=>a,u_:()=>o});let i=new Date("2026-01-12T00:00:00Z"),a=10,n=60,l=5e3,s=45,o={RUN_RUCK_WALK:{label:"Run/Ruck/Walk",unit:"miles",goal:12},ELLIPTICAL_ROW:{label:"Elliptical/Row",unit:"miles",goal:15},SWIM:{label:"Swim",unit:"meters",goal:3200},CYCLE:{label:"Cycle",unit:"miles",goal:40}},d={tmar:{id:"tmar",name:"TMAR-M"},strength:{id:"strength",name:"Strength & Resistance"},cardio:{id:"cardio",name:"Cardio"},hiit:{id:"hiit",name:"HIIT"}}},2360:(e,t,r)=>{"use strict";r.d(t,{H:()=>m,WorkoutProvider:()=>u});var i=r(5155),a=r(2115),n=r(1966),l=r(5317),s=r(1950),o=r(4202);let d={tmarAchieved:!1,strengthAchieved:!1,cardioAchieved:!1,hiitAchieved:!1,allWeeklyAchieved:!1},c=(0,a.createContext)(void 0),u=e=>{let{children:t}=e,{user:r}=(0,n.useUser)(),u=null;try{u=(0,n.useFirestore)()}catch(e){console.log("Firestore not available - running in demo mode")}let m=(0,n.useMemoFirebase)(()=>r&&u?(0,l.H9)(u,"users",r.uid):null,[r,u]),{data:h}=u?(0,n.useDoc)(m):{data:null},f=(0,n.useMemoFirebase)(()=>r&&u?(0,l.P)((0,l.rJ)(u,"workoutLogs"),(0,l._M)("userProfileId","==",r.uid)):null,[r,u]),{data:p}=u?(0,n.useCollection)(f):{data:(0,o.HP)()?o.rq:null},[g,y]=(0,a.useState)({}),[v,w]=(0,a.useState)(!1),[k,x]=(0,a.useState)("tmar"),[C,b]=(0,a.useState)(1),[A,R]=(0,a.useState)(1),[N,M]=(0,a.useState)(null),[j,S]=(0,a.useState)({}),[P,W]=(0,a.useState)(null),[E,_]=(0,a.useState)(!1),[L,I]=(0,a.useState)({showAchievementPopups:!0,showWeeklyCompletionPopups:!0}),[T,H]=(0,a.useState)(Object.keys(s.u_));(0,a.useEffect)(()=>{let e=Math.floor((new Date().getTime()-s.GV.getTime())/6048e5)+1,t=1;e>0&&e<=s.ai?t=e:e>s.ai&&(t=s.ai),b(t),R(t)},[]),(0,a.useEffect)(()=>{if(p){let e={};p.forEach(t=>{e[t.week]||(e[t.week]={tmar:0,strength:0,hiit:0,cardio:{runRuckWalk:0,ellipticalRow:0,swim:0,cycle:0}}),e[t.week].tmar+=t.tmarMMinutes,e[t.week].strength+=t.resistanceLbs,e[t.week].hiit+=t.hiitMinutes,e[t.week].cardio.runRuckWalk+=t.cardioMilesRunning+t.cardioMilesRucking+t.cardioMilesWalking,e[t.week].cardio.ellipticalRow+=t.cardioMilesElliptical+t.cardioMilesRowing,e[t.week].cardio.swim+=t.cardioMetersSwimming,e[t.week].cardio.cycle+=t.cardioMilesCycling}),y(e)}},[p]),(0,a.useEffect)(()=>{(null==h?void 0:h.availableCardio)&&H(h.availableCardio),(null==h?void 0:h.selectedMission)&&M(h.selectedMission)},[h]);let Z=(0,a.useCallback)(async e=>{var t,i,a,n;if(!r)return;if((0,o.HP)()||!u)return void(0,o.Z0)("Adding workout to demo data (not persisted)");let s={userProfileId:r.uid,week:A,workoutDate:new Date().toISOString(),tmarMMinutes:e.tmar||0,resistanceLbs:e.strength||0,hiitMinutes:e.hiit||0,cardioMilesRunning:(null==(t=e.cardio)?void 0:t.runRuckWalk)||0,cardioMilesRucking:0,cardioMilesWalking:0,cardioMilesElliptical:(null==(i=e.cardio)?void 0:i.ellipticalRow)||0,cardioMilesRowing:0,cardioMetersSwimming:(null==(a=e.cardio)?void 0:a.swim)||0,cardioMilesCycling:(null==(n=e.cardio)?void 0:n.cycle)||0};await (0,l.gS)((0,l.rJ)(u,"workoutLogs"),s)},[r,u,A]),B=(0,a.useCallback)(async e=>{if(!r)return;if((0,o.HP)()||!u){(0,o.Z0)("Resetting week data in demo mode (not persisted)"),S(t=>({...t,[e]:{...d}}));return}let t=(0,l.P)((0,l.rJ)(u,"workoutLogs"),(0,l._M)("userProfileId","==",r.uid),(0,l._M)("week","==",e)),i=await (0,l.GG)(t),a=(0,l.wP)(u);i.forEach(e=>{a.delete(e.ref)}),await a.commit(),S(t=>({...t,[e]:{...d}}))},[r,u]),O=(0,a.useCallback)(async()=>{if(!r)return;if((0,o.HP)()||!u){(0,o.Z0)("Resetting all data in demo mode (not persisted)"),M(null),S({});return}let e=(0,l.P)((0,l.rJ)(u,"workoutLogs"),(0,l._M)("userProfileId","==",r.uid)),t=await (0,l.GG)(e),i=(0,l.wP)(u);t.forEach(e=>{i.delete(e.ref)}),await i.commit(),M(null),m&&await (0,l.BN)(m,{selectedMission:null},{merge:!0}),S({})},[r,u,m]),V=(0,a.useCallback)(async e=>{if(M(e),(0,o.HP)()||!u)return void(0,o.Z0)("Setting selected mission in demo mode (not persisted)");m&&await (0,l.BN)(m,{selectedMission:e},{merge:!0})},[m,u]),z=(0,a.useCallback)(async e=>{let t="function"==typeof e?e(T):e;if(H(t),(0,o.HP)()||!u)return void(0,o.Z0)("Setting available cardio in demo mode (not persisted)");m&&await (0,l.BN)(m,{availableCardio:t},{merge:!0})},[m,T,u]),D=(0,a.useMemo)(()=>{var e;return null!=(e=g[A])?e:{tmar:0,strength:0,hiit:0,cardio:{runRuckWalk:0,ellipticalRow:0,swim:0,cycle:0}}},[g,A]),F=(0,a.useMemo)(()=>{let e=D.tmar/s.Hk*100,t=D.strength/s.Ct*100,r=D.hiit/s.NU*100;return{tmar:e,strength:t,cardio:(D.cardio.runRuckWalk/s.u_.RUN_RUCK_WALK.goal+D.cardio.ellipticalRow/s.u_.ELLIPTICAL_ROW.goal+D.cardio.swim/s.u_.SWIM.goal+D.cardio.cycle/s.u_.CYCLE.goal)*100,hiit:r}},[D]);return(0,a.useEffect)(()=>{L.showAchievementPopups&&(()=>{var e;if(P||E)return;let t=null!=(e=j[A])?e:d,r=[{name:"TMAR-M",progress:F.tmar,key:"tmarAchieved",achieved:t.tmarAchieved},{name:"Strength & Resistance",progress:F.strength,key:"strengthAchieved",achieved:t.strengthAchieved},{name:"Cardio",progress:F.cardio,key:"cardioAchieved",achieved:t.cardioAchieved},{name:"HIIT",progress:F.hiit,key:"hiitAchieved",achieved:t.hiitAchieved}],i=!1,a={...t};for(let e of r)if(e.progress>=100&&!e.achieved){W({categoryName:e.name}),a[e.key]=!0,i=!0;break}if(i)return S(e=>({...e,[A]:a}));r.every(e=>e.progress>=100)&&!t.allWeeklyAchieved&&(_(!0),a.allWeeklyAchieved=!0,S(e=>({...e,[A]:a})))})()},[F,j,A,P,E,L.showAchievementPopups]),(0,i.jsx)(c.Provider,{value:{weeklyWorkouts:g,addWorkout:Z,isDialogOpen:v,setIsDialogOpen:w,dialogInitialTab:k,setDialogInitialTab:x,currentWeek:C,displayedWeek:A,setDisplayedWeek:R,selectedMission:N,setSelectedMission:V,achievementToShow:P,setAchievementToShow:W,showWeeklyCompletion:E,setShowWeeklyCompletion:_,notificationSettings:L,setNotificationSettings:I,resetWeekData:B,resetAllData:O,availableCardio:T,setAvailableCardio:z,workoutLogs:p,userProfile:h},children:t})},m=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("useWorkoutLog must be used within a WorkoutProvider");return e}},3910:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var i=r(5155),a=r(6695),n=r(157);let l=(0,n.A)("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),s=(0,n.A)("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),o=(0,n.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),d=(0,n.A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var c=r(5731),u=r(6570),m=r(462),h=r(1467),f=r(285),p=r(2360),g=r(5695);let y=[{name:"Cadet",level:"Beginner",icon:(0,i.jsx)(l,{className:"w-6 h-6 text-muted-foreground"}),description:"Build your foundation with fundamental exercises and steady progress.",missionType:"cadet"},{name:"Operator",level:"Intermediate",icon:(0,i.jsx)(s,{className:"w-6 h-6 text-muted-foreground"}),description:"Challenge your limits with more intense and complex workout routines.",missionType:"operator"},{name:"Commando",level:"Advanced",icon:(0,i.jsx)(o,{className:"w-6 h-6 text-muted-foreground"}),description:"Push to peak performance with elite-level training plans.",missionType:"commando"},{name:"REFIT",level:"Adaptive",icon:(0,i.jsx)(d,{className:"w-6 h-6 text-muted-foreground"}),description:"A tailored path to rebuild, recover, and return to peak form. Your comeback starts here.",missionType:"refit"}];function v(){let{setSelectedMission:e}=(0,p.H)(),t=(0,g.useRouter)(),r=r=>{e(r),t.push("/dashboard")};return(0,i.jsx)("div",{className:"container mx-auto space-y-6",children:(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)(a.aR,{children:[(0,i.jsx)(a.ZB,{children:"Select Your Mission"}),(0,i.jsx)(a.BT,{children:"Choose a workout plan that matches your fitness level and goals."})]}),(0,i.jsx)(a.Wu,{className:"grid md:grid-cols-2 gap-6",children:y.map(e=>(0,i.jsxs)(a.Zp,{className:"flex flex-col hover:border-primary transition-colors",children:[(0,i.jsxs)(a.aR,{children:[(0,i.jsxs)(a.ZB,{className:"flex items-center gap-2",children:["Cadet"===e.name&&(0,i.jsx)(c.A,{className:"w-6 h-6 text-primary"}),"Operator"===e.name&&(0,i.jsx)(u.A,{className:"w-6 h-6 text-primary"}),"Commando"===e.name&&(0,i.jsx)(m.A,{className:"w-6 h-6 text-primary"}),"REFIT"===e.name&&(0,i.jsx)(h.A,{className:"w-6 h-6 text-primary"}),(0,i.jsx)("span",{children:e.name})]}),(0,i.jsx)(a.BT,{children:e.description})]}),(0,i.jsx)(a.Wu,{className:"flex-grow"}),(0,i.jsxs)(a.wL,{className:"flex justify-between items-center text-sm",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,(0,i.jsx)("span",{children:e.level})]}),(0,i.jsx)(f.$,{variant:"outline",onClick:()=>r(e.missionType),children:"Select Plan"})]})]},e.name))})]})})}},4253:(e,t,r)=>{"use strict";r.d(t,{DX:()=>l});var i=r(2115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var n=r(5155),l=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){var l;let e,s,o=(l=r,(s=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(s=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,t){let r={...t};for(let i in t){let a=e[i],n=t[i];/^on[A-Z]/.test(i)?a&&n?r[i]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(r[i]=a):"style"===i?r[i]={...a,...n}:"className"===i&&(r[i]=[a,n].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==i.Fragment&&(d.ref=t?function(...e){return t=>{let r=!1,i=e.map(e=>{let i=a(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():a(e[t],null)}}}}(t,o):o),i.cloneElement(r,d)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=i.forwardRef((e,r)=>{let{children:a,...l}=e,s=i.Children.toArray(a),d=s.find(o);if(d){let e=d.props.children,a=s.map(t=>t!==d?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...l,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...l,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}("Slot"),s=Symbol("radix.slottable");function o(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===s}},5695:(e,t,r)=>{"use strict";var i=r(8999);r.o(i,"usePathname")&&r.d(t,{usePathname:function(){return i.usePathname}}),r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}})},5731:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(157).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6570:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(157).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>s,wL:()=>u});var i=r(5155),a=r(2115),n=r(9434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});s.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},8632:(e,t,r)=>{Promise.resolve().then(r.bind(r,3910))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,277,698,749,441,684,358],()=>t(8632)),_N_E=e.O()}]);