"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{285:(e,i,t)=>{t.d(i,{$:()=>d,r:()=>n});var r=t(5155),a=t(2115),s=t(4253),o=t(2085),l=t(9434);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,i)=>{let{className:t,variant:a,size:o,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(n({variant:a,size:o,className:t})),ref:i,...c})});d.displayName="Button"},1950:(e,i,t)=>{t.d(i,{Ct:()=>o,GV:()=>r,Hk:()=>s,NU:()=>l,R6:()=>d,ai:()=>a,u_:()=>n});let r=new Date("2026-01-12T00:00:00Z"),a=10,s=60,o=5e3,l=45,n={RUN_RUCK_WALK:{label:"Run/Ruck/Walk",unit:"miles",goal:12},ELLIPTICAL_ROW:{label:"Elliptical/Row",unit:"miles",goal:15},SWIM:{label:"Swim",unit:"meters",goal:3200},CYCLE:{label:"Cycle",unit:"miles",goal:40}},d={tmar:{id:"tmar",name:"TMAR-M"},strength:{id:"strength",name:"Strength & Resistance"},cardio:{id:"cardio",name:"Cardio"},hiit:{id:"hiit",name:"HIIT"}}},2360:(e,i,t)=>{t.d(i,{H:()=>m,WorkoutProvider:()=>u});var r=t(5155),a=t(2115),s=t(1966),o=t(5317),l=t(1950),n=t(4202);let d={tmarAchieved:!1,strengthAchieved:!1,cardioAchieved:!1,hiitAchieved:!1,allWeeklyAchieved:!1},c=(0,a.createContext)(void 0),u=e=>{let{children:i}=e,{user:t}=(0,s.useUser)(),u=null;try{u=(0,s.useFirestore)()}catch(e){console.log("Firestore not available - running in demo mode")}let m=(0,s.useMemoFirebase)(()=>t&&u?(0,o.H9)(u,"users",t.uid):null,[t,u]),{data:f}=u?(0,s.useDoc)(m):{data:null},g=(0,s.useMemoFirebase)(()=>t&&u?(0,o.P)((0,o.rJ)(u,"workoutLogs"),(0,o._M)("userProfileId","==",t.uid)):null,[t,u]),{data:v}=u?(0,s.useCollection)(g):{data:(0,n.HP)()?n.rq:null},[h,p]=(0,a.useState)({}),[w,k]=(0,a.useState)(!1),[b,y]=(0,a.useState)("tmar"),[R,M]=(0,a.useState)(1),[C,x]=(0,a.useState)(1),[N,A]=(0,a.useState)(null),[P,S]=(0,a.useState)({}),[_,W]=(0,a.useState)(null),[L,E]=(0,a.useState)(!1),[j,I]=(0,a.useState)({showAchievementPopups:!0,showWeeklyCompletionPopups:!0}),[H,T]=(0,a.useState)(Object.keys(l.u_));(0,a.useEffect)(()=>{let e=Math.floor((new Date().getTime()-l.GV.getTime())/6048e5)+1,i=1;e>0&&e<=l.ai?i=e:e>l.ai&&(i=l.ai),M(i),x(i)},[]),(0,a.useEffect)(()=>{if(v){let e={};v.forEach(i=>{e[i.week]||(e[i.week]={tmar:0,strength:0,hiit:0,cardio:{runRuckWalk:0,ellipticalRow:0,swim:0,cycle:0}}),e[i.week].tmar+=i.tmarMMinutes,e[i.week].strength+=i.resistanceLbs,e[i.week].hiit+=i.hiitMinutes,e[i.week].cardio.runRuckWalk+=i.cardioMilesRunning+i.cardioMilesRucking+i.cardioMilesWalking,e[i.week].cardio.ellipticalRow+=i.cardioMilesElliptical+i.cardioMilesRowing,e[i.week].cardio.swim+=i.cardioMetersSwimming,e[i.week].cardio.cycle+=i.cardioMilesCycling}),p(e)}},[v]),(0,a.useEffect)(()=>{(null==f?void 0:f.availableCardio)&&T(f.availableCardio),(null==f?void 0:f.selectedMission)&&A(f.selectedMission)},[f]);let U=(0,a.useCallback)(async e=>{var i,r,a,s;if(!t)return;if((0,n.HP)()||!u)return void(0,n.Z0)("Adding workout to demo data (not persisted)");let l={userProfileId:t.uid,week:C,workoutDate:new Date().toISOString(),tmarMMinutes:e.tmar||0,resistanceLbs:e.strength||0,hiitMinutes:e.hiit||0,cardioMilesRunning:(null==(i=e.cardio)?void 0:i.runRuckWalk)||0,cardioMilesRucking:0,cardioMilesWalking:0,cardioMilesElliptical:(null==(r=e.cardio)?void 0:r.ellipticalRow)||0,cardioMilesRowing:0,cardioMetersSwimming:(null==(a=e.cardio)?void 0:a.swim)||0,cardioMilesCycling:(null==(s=e.cardio)?void 0:s.cycle)||0};await (0,o.gS)((0,o.rJ)(u,"workoutLogs"),l)},[t,u,C]),B=(0,a.useCallback)(async e=>{if(!t)return;if((0,n.HP)()||!u){(0,n.Z0)("Resetting week data in demo mode (not persisted)"),S(i=>({...i,[e]:{...d}}));return}let i=(0,o.P)((0,o.rJ)(u,"workoutLogs"),(0,o._M)("userProfileId","==",t.uid),(0,o._M)("week","==",e)),r=await (0,o.GG)(i),a=(0,o.wP)(u);r.forEach(e=>{a.delete(e.ref)}),await a.commit(),S(i=>({...i,[e]:{...d}}))},[t,u]),Z=(0,a.useCallback)(async()=>{if(!t)return;if((0,n.HP)()||!u){(0,n.Z0)("Resetting all data in demo mode (not persisted)"),A(null),S({});return}let e=(0,o.P)((0,o.rJ)(u,"workoutLogs"),(0,o._M)("userProfileId","==",t.uid)),i=await (0,o.GG)(e),r=(0,o.wP)(u);i.forEach(e=>{r.delete(e.ref)}),await r.commit(),A(null),m&&await (0,o.BN)(m,{selectedMission:null},{merge:!0}),S({})},[t,u,m]),D=(0,a.useCallback)(async e=>{if(A(e),(0,n.HP)()||!u)return void(0,n.Z0)("Setting selected mission in demo mode (not persisted)");m&&await (0,o.BN)(m,{selectedMission:e},{merge:!0})},[m,u]),F=(0,a.useCallback)(async e=>{let i="function"==typeof e?e(H):e;if(T(i),(0,n.HP)()||!u)return void(0,n.Z0)("Setting available cardio in demo mode (not persisted)");m&&await (0,o.BN)(m,{availableCardio:i},{merge:!0})},[m,H,u]),G=(0,a.useMemo)(()=>{var e;return null!=(e=h[C])?e:{tmar:0,strength:0,hiit:0,cardio:{runRuckWalk:0,ellipticalRow:0,swim:0,cycle:0}}},[h,C]),J=(0,a.useMemo)(()=>{let e=G.tmar/l.Hk*100,i=G.strength/l.Ct*100,t=G.hiit/l.NU*100;return{tmar:e,strength:i,cardio:(G.cardio.runRuckWalk/l.u_.RUN_RUCK_WALK.goal+G.cardio.ellipticalRow/l.u_.ELLIPTICAL_ROW.goal+G.cardio.swim/l.u_.SWIM.goal+G.cardio.cycle/l.u_.CYCLE.goal)*100,hiit:t}},[G]);return(0,a.useEffect)(()=>{j.showAchievementPopups&&(()=>{var e;if(_||L)return;let i=null!=(e=P[C])?e:d,t=[{name:"TMAR-M",progress:J.tmar,key:"tmarAchieved",achieved:i.tmarAchieved},{name:"Strength & Resistance",progress:J.strength,key:"strengthAchieved",achieved:i.strengthAchieved},{name:"Cardio",progress:J.cardio,key:"cardioAchieved",achieved:i.cardioAchieved},{name:"HIIT",progress:J.hiit,key:"hiitAchieved",achieved:i.hiitAchieved}],r=!1,a={...i};for(let e of t)if(e.progress>=100&&!e.achieved){W({categoryName:e.name}),a[e.key]=!0,r=!0;break}if(r)return S(e=>({...e,[C]:a}));t.every(e=>e.progress>=100)&&!i.allWeeklyAchieved&&(E(!0),a.allWeeklyAchieved=!0,S(e=>({...e,[C]:a})))})()},[J,P,C,_,L,j.showAchievementPopups]),(0,r.jsx)(c.Provider,{value:{weeklyWorkouts:h,addWorkout:U,isDialogOpen:w,setIsDialogOpen:k,dialogInitialTab:b,setDialogInitialTab:y,currentWeek:R,displayedWeek:C,setDisplayedWeek:x,selectedMission:N,setSelectedMission:D,achievementToShow:_,setAchievementToShow:W,showWeeklyCompletion:L,setShowWeeklyCompletion:E,notificationSettings:j,setNotificationSettings:I,resetWeekData:B,resetAllData:Z,availableCardio:H,setAvailableCardio:F,workoutLogs:v,userProfile:f},children:i})},m=()=>{let e=(0,a.useContext)(c);if(void 0===e)throw Error("useWorkoutLog must be used within a WorkoutProvider");return e}},6695:(e,i,t)=>{t.d(i,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>o,aR:()=>l,wL:()=>u});var r=t(5155),a=t(2115),s=t(9434);let o=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});o.displayName="Card";let l=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let n=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});n.displayName="CardTitle";let d=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,s.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,s.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:i,className:(0,s.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},7313:(e,i,t)=>{t.d(i,{Xi:()=>d,av:()=>c,j7:()=>n,tU:()=>l});var r=t(5155),a=t(2115),s=t(704),o=t(9434);let l=s.bL,n=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)(s.B8,{ref:i,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});n.displayName=s.B8.displayName;let d=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)(s.l9,{ref:i,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=s.l9.displayName;let c=a.forwardRef((e,i)=>{let{className:t,...a}=e;return(0,r.jsx)(s.UC,{ref:i,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});c.displayName=s.UC.displayName}}]);